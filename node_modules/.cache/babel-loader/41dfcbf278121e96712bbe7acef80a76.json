{"ast":null,"code":"import _classCallCheck from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/src/app/routes/tests/index.js\";\nimport React, { Component } from \"react\";\nimport Page from \"../../components/page\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\n\nvar Create =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Create, _Component);\n\n  function Create(props) {\n    var _this;\n\n    _classCallCheck(this, Create);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Create).call(this, props));\n\n    _this.onDelete = function (e) {\n      e.preventDefault();\n      var tests = _this.state.tests;\n\n      for (var i = 0; i < tests.length; i++) {\n        console.log(tests[i]._id);\n        if (tests[i]._id === e.currentTarget.name) tests.splice(i, 1);\n      }\n\n      _this.setState({\n        tests: tests\n      }, function () {\n        return console.log(_this.state);\n      });\n\n      axios.delete(\"https://server.dotaznik.hardart.cz/admin/test/delete/\" + e.currentTarget.name);\n    };\n\n    _this.state = {\n      tests: []\n    };\n    return _this;\n  }\n\n  _createClass(Create, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.props.match.params.user === \"admin\") {\n        axios.get(\"https://server.dotaznik.hardart.cz/admin/test\").then(function (res) {\n          _this2.setState({\n            tests: res.data\n          });\n        });\n      } else if (this.props.match.params.user === \"pacient\") {\n        var currentUser = Cookies.getJSON(\"user\");\n        var currentTests = [];\n        axios.get(\"https://server.dotaznik.hardart.cz/admin/test\").then(function (res) {\n          currentUser.selectTest.map(function (selectItem) {\n            return res.data.map(function (testItem) {\n              return selectItem === testItem._id ? currentTests.push(testItem) : false;\n            });\n          });\n\n          _this2.setState({\n            tests: currentTests\n          });\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var tests = this.state.tests;\n      var typeUser = this.props.match.params.user;\n      return React.createElement(Page, {\n        id: \"homepage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"uk-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"uk-grid uk-child-width-1-1 uk-child-width-1-3@s \",\n        \"uk-grid\": \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, tests ? tests.map(function (item, index) {\n        return React.createElement(\"div\", {\n          key: index,\n          className: \"uk-margin-bottom\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"\".concat(typeUser === \"pacient\" ? \"pacient/\" : \"/create/\").concat(item._id),\n          className: \"uk-card uk-card-default uk-card-hover uk-card-body uk-display-block uk-link-reset\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          className: \"uk-card-title uk-text-center uk-margin-remove-bottom\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, item.nameTest), typeUser !== \"pacient\" ? React.createElement(\"button\", {\n          onClick: _this3.onDelete,\n          name: item._id,\n          className: \"uk-modal-close-default uk-button uk-button-text\",\n          type: \"button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          \"uk-icon\": \"icon: trash\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        })) : false));\n      }) : false)));\n    }\n  }]);\n\n  return Create;\n}(Component);\n\nexport { Create as default };","map":{"version":3,"sources":["/Users/dmytropechunka/Desktop/main/projects/slavik/mern/src/app/routes/tests/index.js"],"names":["React","Component","Page","Link","axios","Cookies","Create","props","onDelete","e","preventDefault","tests","state","i","length","console","log","_id","currentTarget","name","splice","setState","delete","match","params","user","get","then","res","data","currentUser","getJSON","currentTests","selectTest","map","selectItem","testItem","push","typeUser","item","index","nameTest"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Page from \"../../components/page\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\n\nexport default class Create extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tests: []\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.match.params.user === \"admin\") {\n      axios.get(\"https://server.dotaznik.hardart.cz/admin/test\").then(res => {\n        this.setState({\n          tests: res.data\n        });\n      });\n    } else if (this.props.match.params.user === \"pacient\") {\n      let currentUser = Cookies.getJSON(\"user\");\n      var currentTests = [];\n      axios.get(\"https://server.dotaznik.hardart.cz/admin/test\").then(res => {\n        currentUser.selectTest.map(selectItem =>\n          res.data.map(\n            testItem =>\n              selectItem === testItem._id ? currentTests.push(testItem) : false\n          )\n        );\n\n        this.setState({\n          tests: currentTests\n        });\n      });\n    }\n  }\n\n  onDelete = e => {\n    e.preventDefault();\n    let tests = this.state.tests;\n    for (var i = 0; i < tests.length; i++) {\n      console.log(tests[i]._id);\n      if (tests[i]._id === e.currentTarget.name) tests.splice(i, 1);\n    }\n    this.setState(\n      {\n        tests: tests\n      },\n      () => console.log(this.state)\n    );\n    axios.delete(\n      \"https://server.dotaznik.hardart.cz/admin/test/delete/\" + e.currentTarget.name\n    );\n  };\n\n  render() {\n    var tests = this.state.tests;\n    var typeUser = this.props.match.params.user;\n    return (\n      <Page id=\"homepage\">\n        <div className=\"uk-container\">\n          <div\n            className=\"uk-grid uk-child-width-1-1 uk-child-width-1-3@s \"\n            uk-grid=\"\"\n          >\n            {tests\n              ? tests.map((item, index) => (\n                  <div key={index} className=\"uk-margin-bottom\">\n                    <Link\n                      to={`${typeUser === \"pacient\" ? \"pacient/\" : \"/create/\"}${\n                        item._id\n                      }`}\n                      className=\"uk-card uk-card-default uk-card-hover uk-card-body uk-display-block uk-link-reset\"\n                    >\n                      <h3 className=\"uk-card-title uk-text-center uk-margin-remove-bottom\">\n                        {item.nameTest}\n                      </h3>\n                      {typeUser !== \"pacient\" ? (\n                        <button\n                          onClick={this.onDelete}\n                          name={item._id}\n                          className=\"uk-modal-close-default uk-button uk-button-text\"\n                          type=\"button\"\n                        >\n                          <span uk-icon=\"icon: trash\" />\n                        </button>\n                      ) : (\n                        false\n                      )}\n                    </Link>\n                  </div>\n                ))\n              : false}\n          </div>\n        </div>\n      </Page>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}