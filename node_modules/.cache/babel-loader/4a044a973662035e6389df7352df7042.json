{"ast":null,"code":"import _classCallCheck from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _regeneratorRuntime from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/src/app/app.js\";\n// The basics\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router\";\nimport { frontloadConnect } from \"react-frontload\"; // Action creators and helpers\n\nimport { establishCurrentUser } from \"../modules/auth\";\nimport { getCurrentProfile } from \"../modules/profile\";\nimport { isServer } from \"../store\";\nimport Header from \"./header\";\nimport Routes from \"./routes\";\nimport \"./app.css\"; // import \"uikit\";\n\nvar frontload =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(props) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return props.getCurrentProfile();\n\n          case 2:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function frontload(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    _classCallCheck(this, App);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(App).apply(this, arguments));\n  }\n\n  _createClass(App, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      if (!isServer) {\n        this.props.establishCurrentUser();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: \"app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(Header, {\n        isAuthenticated: this.props.isAuthenticated,\n        user: this.props.currentProfile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }), React.createElement(Routes, {\n        typeUser: this.props.currentProfile.typeUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isAuthenticated: state.auth.isAuthenticated,\n    currentProfile: state.profile.currentProfile\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    establishCurrentUser: establishCurrentUser,\n    getCurrentProfile: getCurrentProfile\n  }, dispatch);\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(frontloadConnect(frontload, {\n  onMount: true,\n  onUpdate: false\n})(App)));","map":{"version":3,"sources":["/Users/dmytropechunka/Desktop/main/projects/slavik/mern/src/app/app.js"],"names":["React","Component","connect","bindActionCreators","withRouter","frontloadConnect","establishCurrentUser","getCurrentProfile","isServer","Header","Routes","frontload","props","App","isAuthenticated","currentProfile","typeUser","mapStateToProps","state","auth","profile","mapDispatchToProps","dispatch","onMount","onUpdate"],"mappings":";;;;;;;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,gBAAT,QAAiC,iBAAjC,C,CAEA;;AACA,SAASC,oBAAT,QAAqC,iBAArC;AACA,SAASC,iBAAT,QAAkC,oBAAlC;AACA,SAASC,QAAT,QAAyB,UAAzB;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,OAAO,WAAP,C,CACA;;AAEA,IAAMC,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,iBAAMC,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACHA,KAAK,CAACL,iBAAN,EADG;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAATI,SAAS;AAAA;AAAA;AAAA,GAAf;;IAIME,G;;;;;;;;;;;;;yCACiB;AACnB,UAAI,CAACL,QAAL,EAAe;AACb,aAAKI,KAAL,CAAWN,oBAAX;AACD;AACF;;;6BAEQ;AACP,aACE;AAAK,QAAA,EAAE,EAAC,KAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AACE,QAAA,eAAe,EAAE,KAAKM,KAAL,CAAWE,eAD9B;AAEE,QAAA,IAAI,EAAE,KAAKF,KAAL,CAAWG,cAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAKE,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWG,cAAX,CAA0BC,QAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CADF;AASD;;;;EAjBef,S;;AAoBlB,IAAMgB,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;AAAA,SAAK;AAChCJ,IAAAA,eAAe,EAAEI,KAAK,CAACC,IAAN,CAAWL,eADI;AAEhCC,IAAAA,cAAc,EAAEG,KAAK,CAACE,OAAN,CAAcL;AAFE,GAAL;AAAA,CAA7B;;AAKA,IAAMM,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ;AAAA,SACjCnB,kBAAkB,CAAC;AAAEG,IAAAA,oBAAoB,EAApBA,oBAAF;AAAwBC,IAAAA,iBAAiB,EAAjBA;AAAxB,GAAD,EAA8Ce,QAA9C,CADe;AAAA,CAAnC;;AAGA,eAAelB,UAAU,CACvBF,OAAO,CACLe,eADK,EAELI,kBAFK,CAAP,CAIEhB,gBAAgB,CAACM,SAAD,EAAY;AAC1BY,EAAAA,OAAO,EAAE,IADiB;AAE1BC,EAAAA,QAAQ,EAAE;AAFgB,CAAZ,CAAhB,CAGGX,GAHH,CAJF,CADuB,CAAzB","sourcesContent":["// The basics\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router\";\nimport { frontloadConnect } from \"react-frontload\";\n\n// Action creators and helpers\nimport { establishCurrentUser } from \"../modules/auth\";\nimport { getCurrentProfile } from \"../modules/profile\";\nimport { isServer } from \"../store\";\n\nimport Header from \"./header\";\nimport Routes from \"./routes\";\n\nimport \"./app.css\";\n// import \"uikit\";\n\nconst frontload = async props => {\n  return await props.getCurrentProfile();\n};\n\nclass App extends Component {\n  componentWillMount() {\n    if (!isServer) {\n      this.props.establishCurrentUser();\n    }\n  }\n\n  render() {\n    return (\n      <div id=\"app\">\n        <Header\n          isAuthenticated={this.props.isAuthenticated}\n          user={this.props.currentProfile}\n        />\n        <Routes typeUser={this.props.currentProfile.typeUser} />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  currentProfile: state.profile.currentProfile\n});\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators({ establishCurrentUser, getCurrentProfile }, dispatch);\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(\n    frontloadConnect(frontload, {\n      onMount: true,\n      onUpdate: false\n    })(App)\n  )\n);\n"]},"metadata":{},"sourceType":"module"}