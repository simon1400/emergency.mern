{"ast":null,"code":"import _objectSpread from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/dmytropechunka/Desktop/main/projects/slavik/mern/src/app/routes/create/index.js\";\nimport React, { Component } from \"react\";\nimport Page from \"../../components/page\";\nimport axios from \"axios\";\n\nvar Create =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Create, _Component);\n\n  function Create(props) {\n    var _this;\n\n    _classCallCheck(this, Create);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Create).call(this, props));\n\n    _this.handleChange = function (e) {\n      var questions = _this.state.questions;\n\n      if ([\"nameAsk\", \"valueAsk\"].includes(e.target.name)) {\n        questions[e.target.dataset.countparent].asks[e.target.dataset.countitem][e.target.name] = e.target.value;\n\n        _this.setState({\n          questions: questions\n        });\n      } else if ([\"nameQuestion\", \"descriptionQuestion\"].includes(e.target.name)) {\n        questions[e.target.dataset.countquestion][e.target.name] = e.target.value;\n\n        _this.setState({\n          questions: questions\n        });\n      } else {\n        _this.setState(_defineProperty({}, e.target.name, e.target.value));\n      }\n    };\n\n    _this.toggleDescription = function (e) {\n      e.preventDefault();\n      var questions = _this.state.questions;\n      questions[e.target.dataset.countquestions].descriptionShow = !questions[e.target.dataset.countquestions].descriptionShow;\n\n      _this.setState({\n        questions: questions\n      });\n    };\n\n    _this.addQuestion = function (e) {\n      e.preventDefault();\n\n      if (_this.state.currentQuestion + 1 < _this.state.questions.length) {\n        _this.setState({\n          currentQuestion: _this.state.currentQuestion + 1\n        });\n      } else {\n        _this.setState(function (prevState) {\n          return {\n            questions: [].concat(_toConsumableArray(prevState.questions), [{\n              nameQuestion: \"\",\n              descriptionQuestion: \"\",\n              descriptionShow: false,\n              countAsk: 1,\n              asks: [{\n                nameAsk: \"\",\n                valueAsk: 0\n              }]\n            }]),\n            currentQuestion: prevState.currentQuestion + 1\n          };\n        });\n      }\n    };\n\n    _this.prevQuestion = function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        currentQuestion: _this.state.currentQuestion - 1\n      });\n    };\n\n    _this.addAsk = function (e) {\n      e.preventDefault();\n      var questions = _this.state.questions;\n      questions[e.target.dataset.countparent].countAsk++;\n      questions[e.target.dataset.countparent].asks.push({\n        nameAsk: \"\",\n        valueAsk: 0\n      });\n\n      _this.setState({\n        questions: questions\n      });\n    };\n\n    _this.deleteAsk = function (e) {\n      e.preventDefault();\n      var questions = _this.state.questions;\n      questions[e.target.dataset.countparent].countAsk = questions[e.target.dataset.countparent].countAsk - 1;\n\n      for (var i = 0; i < questions[e.target.dataset.countparent].asks.length; i++) {\n        if (i === parseInt(e.target.dataset.index)) {\n          questions[e.target.dataset.countparent].asks.splice(i, 1);\n        }\n      }\n\n      _this.setState({\n        questions: questions\n      });\n    };\n\n    _this.submitForm = function (e) {\n      e.preventDefault();\n\n      if (_this.props.match.params.id) {\n        axios.post(\"https://server.dotaznik.hardart.cz/admin/test/update/\" + _this.props.match.params.id, _this.state).then(window.location.href = \"/tests/admin\");\n      } else {\n        axios.post(\"https://server.dotaznik.hardart.cz/admin/test/create\", _this.state).then(function (res) {\n          console.log(res);\n          window.location.href = \"/tests/admin\";\n        });\n      }\n    };\n\n    _this.state = {\n      nameTest: \"\",\n      currentQuestion: 0,\n      questions: [{\n        nameQuestion: \"\",\n        descriptionQuestion: \"\",\n        descriptionShow: false,\n        countAsk: 1,\n        asks: [{\n          nameAsk: \"\",\n          valueAsk: 0\n        }]\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(Create, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.props.match.params.id) {\n        axios.get(\"https://server.dotaznik.hardart.cz/admin/test/\" + this.props.match.params.id).then(function (res) {\n          _this2.setState(_objectSpread({}, res.data));\n\n          console.log();\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(Page, {\n        id: \"create\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"uk-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"uk-grid uk-child-width-1-1\",\n        \"uk-grid\": \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"fieldset\", {\n        className: \"uk-fieldset\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"legend\", {\n        className: \"uk-legend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \"Nazev otaznika\"), React.createElement(\"div\", {\n        className: \"uk-margin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"uk-input\",\n        onChange: this.handleChange,\n        name: \"nameTest\",\n        type: \"text\",\n        placeholder: \"Nazev\",\n        value: this.state.nameTest,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      })), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        className: \"uk-legend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"Otazka \", this.state.currentQuestion + 1), React.createElement(\"div\", {\n        className: \"uk-margin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"uk-input\",\n        type: \"text\",\n        name: \"nameQuestion\",\n        onChange: this.handleChange,\n        \"data-countquestion\": this.state.currentQuestion,\n        placeholder: \"Otazka\",\n        value: this.state.questions[this.state.currentQuestion].nameQuestion,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: \"uk-button uk-button-text\",\n        \"data-countquestions\": this.state.currentQuestion,\n        onClick: this.toggleDescription,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \" \", \"+ Add description\"), this.state.questions[this.state.currentQuestion].descriptionShow ? React.createElement(\"div\", {\n        className: \"uk-margin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        className: \"uk-textarea\",\n        rows: \"5\",\n        id: \"toggle-usage\",\n        \"data-countquestion\": this.state.currentQuestion,\n        onChange: this.handleChange,\n        name: \"descriptionQuestion\",\n        placeholder: \"Textarea\",\n        value: this.state.questions[this.state.currentQuestion].descriptionQuestion,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      })) : \"\", React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        className: \"uk-legend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, \"Odpoved\"), this.state.questions[this.state.currentQuestion].asks.map(function (ask, index) {\n        return React.createElement(\"div\", {\n          key: index,\n          className: \"uk-grid uk-grid-small\",\n          \"uk-grid\": \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"uk-margin uk-width-4-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          className: \"uk-input\",\n          type: \"text\",\n          onChange: _this3.handleChange,\n          name: \"nameAsk\",\n          \"data-countparent\": _this3.state.currentQuestion,\n          \"data-countitem\": index,\n          placeholder: \"Odpoved\",\n          value: _this3.state.questions[_this3.state.currentQuestion].asks[index].nameAsk,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"uk-width-1-5 uk-flex uk-flex-between\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          className: \"uk-input\",\n          type: \"text\",\n          onChange: _this3.handleChange,\n          name: \"valueAsk\",\n          \"data-countparent\": _this3.state.currentQuestion,\n          \"data-countitem\": index,\n          placeholder: \"Body\",\n          value: _this3.state.questions[_this3.state.currentQuestion].asks[index].valueAsk,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          \"data-countparent\": _this3.state.currentQuestion,\n          \"data-index\": index,\n          onClick: _this3.deleteAsk,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          },\n          __self: this\n        }, \"minus\")));\n      }), React.createElement(\"button\", {\n        className: \"uk-button uk-button-text\",\n        \"data-countparent\": this.state.currentQuestion,\n        onClick: this.addAsk,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, \" \", \"+ Add answer\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"uk-button uk-button-primary uk-align-right\",\n        onClick: this.addQuestion,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, \"Next question\"), this.state.currentQuestion ? React.createElement(\"button\", {\n        className: \"uk-button uk-button-primary uk-align-right\",\n        onClick: this.prevQuestion,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, \"Prev question\") : \"\", React.createElement(\"button\", {\n        className: \"uk-button uk-button-primary\",\n        onClick: this.submitForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, \"Save\")))))));\n    }\n  }]);\n\n  return Create;\n}(Component);\n\nexport { Create as default };","map":{"version":3,"sources":["/Users/dmytropechunka/Desktop/main/projects/slavik/mern/src/app/routes/create/index.js"],"names":["React","Component","Page","axios","Create","props","handleChange","e","questions","state","includes","target","name","dataset","countparent","asks","countitem","value","setState","countquestion","toggleDescription","preventDefault","countquestions","descriptionShow","addQuestion","currentQuestion","length","prevState","nameQuestion","descriptionQuestion","countAsk","nameAsk","valueAsk","prevQuestion","addAsk","push","deleteAsk","i","parseInt","index","splice","submitForm","match","params","id","post","then","window","location","href","res","console","log","nameTest","get","data","map","ask"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Page from \"../../components/page\";\nimport axios from \"axios\";\n\nexport default class Create extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      nameTest: \"\",\n      currentQuestion: 0,\n      questions: [\n        {\n          nameQuestion: \"\",\n          descriptionQuestion: \"\",\n          descriptionShow: false,\n          countAsk: 1,\n          asks: [\n            {\n              nameAsk: \"\",\n              valueAsk: 0\n            }\n          ]\n        }\n      ]\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.match.params.id) {\n      axios\n        .get(\"https://server.dotaznik.hardart.cz/admin/test/\" + this.props.match.params.id)\n        .then(res => {\n          this.setState({\n            ...res.data\n          });\n          console.log();\n        });\n    }\n  }\n\n  handleChange = e => {\n    var questions = this.state.questions;\n    if ([\"nameAsk\", \"valueAsk\"].includes(e.target.name)) {\n      questions[e.target.dataset.countparent].asks[e.target.dataset.countitem][\n        e.target.name\n      ] = e.target.value;\n      this.setState({ questions });\n    } else if (\n      [\"nameQuestion\", \"descriptionQuestion\"].includes(e.target.name)\n    ) {\n      questions[e.target.dataset.countquestion][e.target.name] = e.target.value;\n      this.setState({ questions });\n    } else {\n      this.setState({ [e.target.name]: e.target.value });\n    }\n  };\n\n  toggleDescription = e => {\n    e.preventDefault();\n    let questions = this.state.questions;\n    questions[e.target.dataset.countquestions].descriptionShow = !questions[\n      e.target.dataset.countquestions\n    ].descriptionShow;\n    this.setState({\n      questions\n    });\n  };\n\n  addQuestion = e => {\n    e.preventDefault();\n    if (this.state.currentQuestion + 1 < this.state.questions.length) {\n      this.setState({\n        currentQuestion: this.state.currentQuestion + 1\n      });\n    } else {\n      this.setState(prevState => ({\n        questions: [\n          ...prevState.questions,\n          {\n            nameQuestion: \"\",\n            descriptionQuestion: \"\",\n            descriptionShow: false,\n            countAsk: 1,\n            asks: [\n              {\n                nameAsk: \"\",\n                valueAsk: 0\n              }\n            ]\n          }\n        ],\n        currentQuestion: prevState.currentQuestion + 1\n      }));\n    }\n  };\n\n  prevQuestion = e => {\n    e.preventDefault();\n    this.setState({\n      currentQuestion: this.state.currentQuestion - 1\n    });\n  };\n\n  addAsk = e => {\n    e.preventDefault();\n    let questions = this.state.questions;\n    questions[e.target.dataset.countparent].countAsk++;\n    questions[e.target.dataset.countparent].asks.push({\n      nameAsk: \"\",\n      valueAsk: 0\n    });\n    this.setState({\n      questions\n    });\n  };\n\n  deleteAsk = e => {\n    e.preventDefault();\n    let questions = this.state.questions;\n    questions[e.target.dataset.countparent].countAsk =\n      questions[e.target.dataset.countparent].countAsk - 1;\n    for (\n      var i = 0;\n      i < questions[e.target.dataset.countparent].asks.length;\n      i++\n    ) {\n      if (i === parseInt(e.target.dataset.index)) {\n        questions[e.target.dataset.countparent].asks.splice(i, 1);\n      }\n    }\n    this.setState({\n      questions\n    });\n  };\n\n  submitForm = e => {\n    e.preventDefault();\n\n    if (this.props.match.params.id) {\n      axios\n        .post(\n          \"https://server.dotaznik.hardart.cz/admin/test/update/\" +\n            this.props.match.params.id,\n          this.state\n        )\n        .then((window.location.href = \"/tests/admin\"));\n    } else {\n      axios\n        .post(\"https://server.dotaznik.hardart.cz/admin/test/create\", this.state)\n        .then(res => {\n          console.log(res);\n          window.location.href = \"/tests/admin\"\n        });\n    }\n  };\n\n  render() {\n    return (\n      <Page id=\"create\">\n        <div className=\"uk-container\">\n          <div className=\"uk-grid uk-child-width-1-1\" uk-grid=\"\">\n            <div>\n              <form>\n                <fieldset className=\"uk-fieldset\">\n                  <legend className=\"uk-legend\">Nazev otaznika</legend>\n\n                  <div className=\"uk-margin\">\n                    <input\n                      className=\"uk-input\"\n                      onChange={this.handleChange}\n                      name=\"nameTest\"\n                      type=\"text\"\n                      placeholder=\"Nazev\"\n                      value={this.state.nameTest}\n                    />\n                  </div>\n\n                  <hr />\n\n                  <h3 className=\"uk-legend\">\n                    Otazka {this.state.currentQuestion + 1}\n                  </h3>\n\n                  <div className=\"uk-margin\">\n                    <input\n                      className=\"uk-input\"\n                      type=\"text\"\n                      name=\"nameQuestion\"\n                      onChange={this.handleChange}\n                      data-countquestion={this.state.currentQuestion}\n                      placeholder=\"Otazka\"\n                      value={\n                        this.state.questions[this.state.currentQuestion]\n                          .nameQuestion\n                      }\n                    />\n                  </div>\n\n                  <button\n                    className=\"uk-button uk-button-text\"\n                    data-countquestions={this.state.currentQuestion}\n                    onClick={this.toggleDescription}\n                  >\n                    {\" \"}\n                    + Add description\n                  </button>\n\n                  {this.state.questions[this.state.currentQuestion]\n                    .descriptionShow ? (\n                    <div className=\"uk-margin\">\n                      <textarea\n                        className=\"uk-textarea\"\n                        rows=\"5\"\n                        id=\"toggle-usage\"\n                        data-countquestion={this.state.currentQuestion}\n                        onChange={this.handleChange}\n                        name=\"descriptionQuestion\"\n                        placeholder=\"Textarea\"\n                        value={\n                          this.state.questions[this.state.currentQuestion]\n                            .descriptionQuestion\n                        }\n                      />\n                    </div>\n                  ) : (\n                    \"\"\n                  )}\n\n                  <hr />\n\n                  <h3 className=\"uk-legend\">Odpoved</h3>\n                  {this.state.questions[this.state.currentQuestion].asks.map(\n                    (ask, index) => (\n                      <div\n                        key={index}\n                        className=\"uk-grid uk-grid-small\"\n                        uk-grid=\"\"\n                      >\n                        <div className=\"uk-margin uk-width-4-5\">\n                          <input\n                            className=\"uk-input\"\n                            type=\"text\"\n                            onChange={this.handleChange}\n                            name=\"nameAsk\"\n                            data-countparent={this.state.currentQuestion}\n                            data-countitem={index}\n                            placeholder=\"Odpoved\"\n                            value={\n                              this.state.questions[this.state.currentQuestion]\n                                .asks[index].nameAsk\n                            }\n                          />\n                        </div>\n                        <div className=\"uk-width-1-5 uk-flex uk-flex-between\">\n                          <input\n                            className=\"uk-input\"\n                            type=\"text\"\n                            onChange={this.handleChange}\n                            name=\"valueAsk\"\n                            data-countparent={this.state.currentQuestion}\n                            data-countitem={index}\n                            placeholder=\"Body\"\n                            value={\n                              this.state.questions[this.state.currentQuestion]\n                                .asks[index].valueAsk\n                            }\n                          />\n                          <span\n                            data-countparent={this.state.currentQuestion}\n                            data-index={index}\n                            onClick={this.deleteAsk}\n                          >\n                            minus\n                          </span>\n                        </div>\n                      </div>\n                    )\n                  )}\n\n                  <button\n                    className=\"uk-button uk-button-text\"\n                    data-countparent={this.state.currentQuestion}\n                    onClick={this.addAsk}\n                  >\n                    {\" \"}\n                    + Add answer\n                  </button>\n\n                  <hr />\n\n                  <button\n                    className=\"uk-button uk-button-primary uk-align-right\"\n                    onClick={this.addQuestion}\n                  >\n                    Next question\n                  </button>\n                  {this.state.currentQuestion ? (\n                    <button\n                      className=\"uk-button uk-button-primary uk-align-right\"\n                      onClick={this.prevQuestion}\n                    >\n                      Prev question\n                    </button>\n                  ) : (\n                    \"\"\n                  )}\n\n                  <button\n                    className=\"uk-button uk-button-primary\"\n                    onClick={this.submitForm}\n                  >\n                    Save\n                  </button>\n                </fieldset>\n              </form>\n            </div>\n          </div>\n        </div>\n      </Page>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}