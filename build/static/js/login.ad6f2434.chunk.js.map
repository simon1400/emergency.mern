{"version":3,"sources":["app/routes/login/index.js"],"names":["Login","props","_this","Object","_Users_dmytropechunka_Desktop_main_projects_slavik_mern_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_Users_dmytropechunka_Desktop_main_projects_slavik_mern_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_dmytropechunka_Desktop_main_projects_slavik_mern_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","login","e","rodneCislo","password","preventDefault","console","log","axios","get","then","res","Cookies","set","data","window","location","href","handleChange","setState","_Users_dmytropechunka_Desktop_main_projects_slavik_mern_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","target","name","value","state","_this2","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","_components_page__WEBPACK_IMPORTED_MODULE_9__","id","title","description","className","uk-modal","type","uk-close","onChange","placeholder","onClick","Component","connect","dispatch","bindActionCreators","setCurrentUser"],"mappings":"oOASMA,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAqBRQ,MAAQ,SAACC,EAAGC,EAAYC,GACtBF,EAAEG,iBACFC,QAAQC,IAAIJ,GACZG,QAAQC,IAAIH,GACZI,IAAMC,IAAI,sDAAwDN,EAAa,IAAMC,GAClFM,KAAK,SAAAC,GAEJC,IAAQC,IAAI,OAAQF,EAAIG,MACxBC,OAAOC,SAASC,KAAO,OA9BVvB,EAkCnBwB,aAAe,SAAAhB,GACbR,EAAKyB,SAALxB,OAAAyB,EAAA,EAAAzB,CAAA,GAAiBO,EAAEmB,OAAOC,KAAOpB,EAAEmB,OAAOE,SAjC1C7B,EAAK8B,MAAQ,CACXrB,WAAY,GACZC,SAAU,IAJKV,qHAsCV,IAAA+B,EAAA5B,KACP,OACE6B,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,GAAG,QAAQC,MAAM,QAAQC,YAAY,+BACzCN,EAAAC,EAAAC,cAAA,OAAKE,GAAG,sBAAsBG,UAAU,WAAWC,WAAS,IAC1DR,EAAAC,EAAAC,cAAA,OAAKK,UAAU,wEACbP,EAAAC,EAAAC,cAAA,UACEK,UAAU,yBACVE,KAAK,SACLC,WAAS,KAEXV,EAAAC,EAAAC,cAAA,MAAIK,UAAU,kBAAd,cACAP,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,QAAMK,UAAU,mBACdP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,oBACbP,EAAAC,EAAAC,cAAA,SACEK,UAAU,+BACVI,SAAUxC,KAAKqB,aACfI,KAAK,aACLa,KAAK,OACLG,YAAY,kBAKlBZ,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,oBACbP,EAAAC,EAAAC,cAAA,SACEK,UAAU,+BACVI,SAAUxC,KAAKqB,aACfI,KAAK,WACLa,KAAK,WACLG,YAAY,YAIlBZ,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UACEK,UAAU,8BACVM,QAAS,SAACrC,GAAD,OACPuB,EAAKxB,MACHC,EACAuB,EAAKD,MAAMrB,WACXsB,EAAKD,MAAMpB,YANjB,2BA5EMoC,aAmGLC,4BACb,KAJyB,SAAAC,GAAQ,OACjCC,YAAmB,CAAEC,oBAAkBF,IAE1BD,CAGbjD","file":"static/js/login.ad6f2434.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Page from \"../../components/page\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\n\nimport { setCurrentUser } from \"../../../modules/auth\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      rodneCislo: \"\",\n      password: \"\"\n    };\n  }\n\n  componentDidMount() {\n    // var data = {\n    //   name: \"admin\",\n    //   surname: \"admin\",\n    //   rodneCislo: \"admin\",\n    //   password: \"admin\",\n    //   typeUser: \"admin\",\n    //   selectTest: []\n    // };\n    // axios.post(\"http://server.dotaznik.hardart.cz/admin/user/create\", data).then(res => {\n    //   console.log(res);\n    // });\n  }\n\n  login = (e, rodneCislo, password) => {\n    e.preventDefault()\n    console.log(rodneCislo);\n    console.log(password);\n    axios.get(\"http://server.dotaznik.hardart.cz/admin/user/login/\" + rodneCislo + \"/\" + password)\n      .then(res => {\n        // setCurrentUser(res.data)\n        Cookies.set(\"user\", res.data);\n        window.location.href = '/'\n      });\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  render() {\n    return (\n      <Page id=\"login\" title=\"Login\" description=\"We need to log in to stuff.\">\n        <div id=\"modal-close-default\" className=\"tm-modal\" uk-modal=\"\">\n          <div className=\"uk-modal-dialog uk-modal-body uk-margin-auto-vertical uk-text-center\">\n            <button\n              className=\"uk-modal-close-default\"\n              type=\"button\"\n              uk-close=\"\"\n            />\n            <h2 className=\"uk-modal-title\">Prihalseni</h2>\n            <hr />\n            <form className=\"uk-form-stacked\">\n              <div className=\"uk-margin\">\n                <div className=\"uk-form-controls\">\n                  <input\n                    className=\"uk-input uk-form-width-large\"\n                    onChange={this.handleChange}\n                    name=\"rodneCislo\"\n                    type=\"text\"\n                    placeholder=\"Rodne cislo\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"uk-margin\">\n                <div className=\"uk-form-controls\">\n                  <input\n                    className=\"uk-input uk-form-width-large\"\n                    onChange={this.handleChange}\n                    name=\"password\"\n                    type=\"password\"\n                    placeholder=\"Heslo\"\n                  />\n                </div>\n              </div>\n              <hr />\n              <button\n                className=\"uk-button uk-button-primary\"\n                onClick={(e) =>\n                  this.login(\n                    e,\n                    this.state.rodneCislo,\n                    this.state.password\n                  )\n                }\n              >\n                Prihlasit se\n              </button>\n            </form>\n          </div>\n        </div>\n      </Page>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators({ setCurrentUser }, dispatch);\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(Login);\n"],"sourceRoot":""}